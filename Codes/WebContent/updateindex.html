<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <link rel="stylesheet" href="designmain.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    
      <script>
         
        function filloptions()
        {
          var xmlhttp;    
          if (window.XMLHttpRequest)
          	xmlhttp=new XMLHttpRequest();
          else
          	xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
          xmlhttp.onreadystatechange=function()
          {
          	if (xmlhttp.readyState==4 && xmlhttp.status==200)
              document.getElementById("depts").innerHTML=xmlhttp.responseText;
            
          }
        	xmlhttp.open("GET","updatecontroller",true);
        	xmlhttp.send(null);
        }
         function loadinp(obj)
         {
        	 console.log("god help");
        	 var extra= document.getElementById("extag");
        	 let opt=obj.options[obj.selectedIndex].text;
        	 if(opt=="Student")
        		 extra.innerHTML="Total Credit";
        	else
        		 extra.innerHTML="Enter Salary";
        }
        var count=0;
     	function startload()
     	{
     		console.log("sent");
             document.body.style.cursor = 'wait';
         };
        function resizeIframe(obj) 
        {
     	   
     	   if(count++!=0)
          	{
         		obj.style.display='block';
           		size= obj.contentWindow.document.body.scrollHeight;
           		obj.style.height=(size+70) + 'px';
          		console.log(size);
          	}
     	   document.body.style.cursor = 'default';
         };
         
      </script>
    </head>

<body style="font-size:50px" onload="filloptions()">
    <div class='container'>
    <div class="box" style="text-align: left;">
        <form action="updatecontroller" method="post" target="iframe_a" style="margin-left: 8%;">     
				<p>&ensp;&emsp;Entry Form For New Record :</p>
				<div class="inpbox" style="margin:25px;">
                <select name="desig" id="desig" class="inputbar" onchange="loadinp(this)">
                	<option value="student" >Student</option>
                	<option value="instructor">Instructor</option>
				</select>
				</div>
				
                 <div class="inpbox" style="margin:25px;">
                <input name="id" type="text" class="inputbar" id="ID" required>
                 <label for="ID" class="txt" >Enter ID </label>        
                </div> 
               
                <div class="inpbox" style="margin:25px;">
                <input name="name" type="text" class="inputbar" id="name" required>
                 <label for="name" class="txt" > Enter Name</label>        
                </div> 
                
                <div class="inpbox" style="margin:25px;">
                <select name="depts" id="depts" class="inputbar" required>
				</select>
				</div>
				
				<div class="inpbox" style="margin:25px;">
                <input name="extra" type="text" class="inputbar" id="extra" required>
                 <label for="extra" class="txt" id="extag">Total Credit </label> 
                </div>
				<input class="buttons" type="submit" value="update" style="margin-left:200px;">
            </form>
        </div>		
        	<iframe class="box" 
         	style="border: none; position: relative; width: 100%; display:none"  
         	name="iframe_a"
          	onload="resizeIframe(this)"></iframe>   
    	</div>
</body>


</html>